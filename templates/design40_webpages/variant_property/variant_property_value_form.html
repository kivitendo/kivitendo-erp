[% USE HTML %][% USE T8 %][% USE L %][% USE LxERP %][%- USE P -%]
[% USE Dumper %]
<h1>[% FORM.title %]</h1>
[%- INCLUDE 'common/flash.html' %]

<form id="variant_property_value_form">
  [% P.hidden_tag("variant_property_value.id", variant_property_value.id) %]
  <div class="wrapper">
    <table class="tbl-horizontal">
      <caption> [% LxERP.t8("Value") %] </caption>
      <colgroup><col class="wi-mediumsmall"><col></colgroup>
      <tbody>
        <tr>
          <td> [%- 'Value' | $T8 %] </td>
          <td>
            [% P.input_tag(
                "variant_property_value.value",
                variant_property_value.value,
                "data-validate"="required",
                "data-title"=LxERP.t8("Value")
            ) %]
          </td>
        </tr>
        <tr>
          <td> [%- 'Abbreviation' | $T8 %] </td>
          <td>
            [% P.input_tag(
                "variant_property_value.abbreviation",
                variant_property_value.abbreviation,
                "data-validate"="required",
                "data-title"=LxERP.t8("Abbreviation"),
            ) %]
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="wrapper">
    <table class="tbl-horizontal">
      <caption> [%- 'Translation' | $T8 %] </caption>
      <tbody>
        [%- FOREACH language = SELF.languages %]
        <tr><th class="caption" colspan="2">[%- HTML.escape(language.description) %] ([%- LxERP.t8('Translation') %])</th></tr>
        <tr>
          <td> [%- 'Value' | $T8 %] </td>
          <input type="text" name="translation_[% language.id %]" value="[%- HTML.escape(variant_property_value.translated_attribute('description_long', language, 1)) %]" size="60">
          <td> [% P.input_tag("variant_property_value.value", variant_property_value.value, "data-validate"="required", "data-title"=LxERP.t8("value")) %] </td>
        </tr>
          <tr>
          <td> [%- 'Abbreviation' | $T8 %] </td>
          <input type="text" name="translation_invoice_[% language.id %]" value="[%- HTML.escape(variant_property_value.translated_attribute('description_long_invoice', language, 1)) %]" size="60">
          <td> [% P.input_tag("variant_property_value.description", variant_property_value.description, "data-validate"="required", "data-title"=LxERP.t8("Description")) %] </td>
        </tr>
        [%- END %]
      </tbody>
    </table>
  </div>
</form>

<div class="buttons">
    [% L.button_tag("kivi.VariantProperty.save_variant_property_value()", LxERP.t8("Save"))  %]
</div>

